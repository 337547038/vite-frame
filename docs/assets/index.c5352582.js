import{d as Q,a as D,u as q,b as J,r as B,c as M,w as K,o as O,e as l,f as a,g as x,h as e,i as t,F as V,j as U,k as r,l as f,t as T,m as L,n as y,p as R,q as X,s as W,v as Y,K as Z,x as ee}from"./index.2cc539a9.js";var te="./assets/logo.03d6d6da.png";const I=window.sessionStorage.getItem("tagViews");let j=[];I&&(j=JSON.parse(I));const $=Q("layout",{state:()=>({breadcrumb:[],tabs:j}),actions:{changeBreadcrumb(v){this.breadcrumb=v},setTabsViews(v){this.tabs=v,window.sessionStorage.setItem("tagViews",JSON.stringify(v))}}}),le={class:"tag-tabs"},ne={class:"tabs-label"},ae=D({props:{navList:{default:()=>[]}},setup(v){const k=v,s=$(),n=q(),_=J(),u=B(),p=M(()=>(s==null?void 0:s.tabs)||[]),o=c=>{u.value=c,_.push({path:c})},d=(c,h,b)=>{const C=p.value.filter(m=>m.path!==c.path);if(h>0){const m=p.value[h-1].path;u.value=m,_.push({path:m})}else h===0&&_.push({path:"/"});s.setTabsViews(C),b.stopPropagation()},i=()=>{var h;if(((h=n.meta)==null?void 0:h.keepAlive)===!1){u.value="";return}if(!p.value.some(b=>b.path===n.path)&&n.path!=="/"){let b="";k.navList.forEach(m=>{m.path===n.path&&(b=m.title)});const C=p.value;C.push({title:b,path:n.path,name:n.name}),s.setTabsViews(C)}u.value=n.path},w=()=>{_.push({path:"/"}),s.setTabsViews([])};return K(()=>n.path,()=>{i()}),O(()=>{i()}),(c,h)=>{var F;const b=l("el-tab-pane"),C=l("Close"),m=l("el-icon"),E=l("el-tabs");return a(),x("div",le,[e(E,{modelValue:u.value,"onUpdate:modelValue":h[0]||(h[0]=g=>u.value=g),onTabChange:o},{default:t(()=>[e(b,{label:"\u9996\u9875",name:"/"}),(a(!0),x(V,null,U(L(p),(g,S)=>(a(),r(b,{key:g.path,label:g.title,name:g.path},{label:t(()=>[f("span",ne,[f("span",null,T(g.title),1),e(m,{onClick:N=>d(g,S,N)},{default:t(()=>[e(C)]),_:2},1032,["onClick"])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),((F=L(p))==null?void 0:F.length)>0?(a(),r(m,{key:0,onClick:w,class:"clear-tag",title:"\u6E05\u7A7A\u5168\u90E8"},{default:t(()=>[e(C)]),_:1})):y("",!0)])}}}),oe=D({props:{data:{default:()=>[]}},setup(v){return(k,s)=>{const n=l("el-icon"),_=l("menu-item",!0),u=l("el-sub-menu"),p=l("el-menu-item");return a(!0),x(V,null,U(v.data,(o,d)=>(a(),x(V,{key:d},[o.children?(a(),r(u,{key:0,index:o.path||o.title+d},{title:t(()=>[e(n,null,{default:t(()=>[(a(),r(R(o.icon)))]),_:2},1024),f("span",null,T(o.title),1)]),default:t(()=>[e(_,{data:o.children},null,8,["data"])]),_:2},1032,["index"])):(a(),r(p,{key:1,index:o.path||o.title+d},{default:t(()=>[e(n,null,{default:t(()=>[(a(),r(R(o.icon)))]),_:2},1024),f("span",null,T(o.title),1)]),_:2},1032,["index"]))],64))),128)}}}),se=D({props:{collapse:{type:Boolean}},emits:["getMenuList"],setup(v,{emit:k}){const s=J(),n=q(),_=$(),u=B([{title:"\u9996\u9875",path:"/",icon:"HomeFilled"},{title:"\u8868\u5355\u9875\u9762",path:"/form",icon:"location"},{title:"\u8868\u5355\u9875\u97622",path:"/form2",icon:"location"},{title:"\u5217\u8868\u9875\u9762",path:"/list",icon:"collection"},{title:"\u6D4B\u8BD5",path:"/test",icon:"collection"},{title:"\u7528\u6237\u7BA1\u7406",icon:"user",children:[{title:"\u65B0\u589E\u7528\u6237",path:"/addUser"},{title:"\u7528\u6237\u5217\u8868",children:[{title:"\u666E\u901A\u7528\u6237"},{title:"\u5408\u4F5C\u7528\u6237"},{title:"\u5408\u4F5C\u7528\u62372"}]}]},{title:"\u7CFB\u7EDF\u7BA1\u7406",icon:"setting",children:[{title:"\u7528\u6237\u7BA1\u7406"},{title:"\u89D2\u8272\u7BA1\u7406"},{title:"\u83DC\u5355\u7BA1\u7406"},{title:"\u767B\u5F55\u65E5\u5FD7"},{title:"\u64CD\u4F5C\u7BA1\u7406"}]}]),p=o=>{s.push({path:o})};return console.log(n),K(()=>n.path,()=>{u.value.forEach(o=>{o.path===n.path&&_.changeBreadcrumb([{label:o.title}])})}),O(()=>{k("getMenuList",u.value)}),(o,d)=>{const i=l("el-menu");return a(),r(i,{collapse:v.collapse,"active-text-color":"#ffd04b","background-color":"rgb(48 65 86)","text-color":"#fff",onSelect:p},{default:t(()=>[e(oe,{data:u.value},null,8,["data"])]),_:1},8,["collapse"])}}});const ue=X("\u9996\u9875"),ce={class:"comm-header-tool"},re={class:"header-right"},ie={class:"header-avatar",style:{cursor:"pointer"}},_e={class:"name"},pe=f("span",{class:"title"},"\u4E2A\u4EBA\u4E2D\u5FC3",-1),de=f("span",{class:"title"},"\u8BBE\u7F6E",-1),me=f("span",{class:"title"},"\u9000\u51FA\u767B\u5F55",-1),he=D({props:{collapse:{type:Boolean}},emits:["click"],setup(v,{emit:k}){const s=$(),n=M(()=>s==null?void 0:s.breadcrumb),_=B({name:"userName",avatar:"https://xxx/avatar.jpg"}),u=o=>{k("click",o)},p=()=>{console.log("logout")};return(o,d)=>{const i=l("Fold"),w=l("Expand"),c=l("el-icon"),h=l("el-breadcrumb-item"),b=l("el-breadcrumb"),C=l("RefreshRight"),m=l("FullScreen"),E=l("el-avatar"),F=l("arrow-down"),g=l("User"),S=l("el-menu-item"),N=l("Setting"),z=l("CircleClose"),G=l("el-menu"),H=l("el-dropdown");return a(),x(V,null,[e(c,{onClick:d[0]||(d[0]=A=>u("collapse")),class:"collapse-icon"},{default:t(()=>[v.collapse?(a(),r(w,{key:1})):(a(),r(i,{key:0}))]),_:1}),e(b,{separator:"/",class:"breadcrumb"},{default:t(()=>[e(h,{to:{path:"/"}},{default:t(()=>[ue]),_:1}),(a(!0),x(V,null,U(L(n),(A,P)=>(a(),r(h,{key:P,to:{path:A.path}},{default:t(()=>[X(T(A.label),1)]),_:2},1032,["to"]))),128))]),_:1}),f("div",ce,[e(c,{onClick:d[1]||(d[1]=A=>u("refresh")),title:"\u5237\u65B0\u9875\u9762"},{default:t(()=>[e(C)]),_:1}),e(c,{title:"\u5168\u5C4F"},{default:t(()=>[e(m,{onClick:d[2]||(d[2]=A=>u("fullScreen"))})]),_:1})]),f("div",re,[e(H,null,{dropdown:t(()=>[e(G,{class:"avatar-menu"},{default:t(()=>[e(S,null,{default:t(()=>[e(c,null,{default:t(()=>[e(g)]),_:1}),pe]),_:1}),e(S,null,{default:t(()=>[e(c,null,{default:t(()=>[e(N)]),_:1}),de]),_:1}),e(S,{onClick:p},{default:t(()=>[e(c,null,{default:t(()=>[e(z)]),_:1}),me]),_:1})]),_:1})]),default:t(()=>[f("div",ie,[e(E,{class:"avatar",size:"small",shape:"circle",src:_.value.avatar},null,8,["src"]),f("span",_e,T(_.value.name),1),e(c,{class:"el-icon--right"},{default:t(()=>[e(F)]),_:1})])]),_:1})])],64)}}}),fe={class:"logo"},ve=f("img",{src:te},null,-1),ge=D({setup(v){const k=$(),s=B(!1),n=B(!1),_=B(!0),u=B([]),p=i=>{i==="collapse"&&(s.value=!s.value),i==="fullScreen"&&(n.value=!n.value),i==="refresh"&&(_.value=!1,ee(()=>{_.value=!0}))},o=i=>{u.value=i},d=M(()=>{const i=k==null?void 0:k.tabs;if(i){const w=[];return i.forEach(c=>{w.push(c.name)}),w}return[]});return(i,w)=>{const c=l("el-aside"),h=l("el-header"),b=l("router-view"),C=l("el-main"),m=l("el-container"),E=l("Close"),F=l("el-icon");return a(),r(m,{class:"common-layout"},{default:t(()=>[n.value?y("",!0):(a(),r(c,{key:0,width:s.value?"64px":"220px",class:"common-sidebar"},{default:t(()=>[f("div",fe,[ve,W(f("span",null,"XX\u7BA1\u7406\u7CFB\u7EDF",512),[[Y,!s.value]])]),e(se,{collapse:s.value,onGetMenuList:o},null,8,["collapse"])]),_:1},8,["width"])),e(m,null,{default:t(()=>[n.value?y("",!0):(a(),r(h,{key:0,class:"common-header"},{default:t(()=>[e(he,{onClick:p,collapse:s.value},null,8,["collapse"])]),_:1})),n.value?y("",!0):(a(),r(ae,{key:1,navList:u.value},null,8,["navList"])),e(C,{class:"common-main"},{default:t(()=>[_.value?(a(),r(b,{key:0},{default:t(({Component:g})=>[(a(),r(Z,{include:L(d)},[(a(),r(R(g)))],1032,["include"]))]),_:1})):y("",!0)]),_:1})]),_:1}),n.value?(a(),r(F,{key:1,class:"quit-full",onClick:w[0]||(w[0]=g=>p("fullScreen")),title:"\u9000\u51FA\u5168\u5C4F"},{default:t(()=>[e(E)]),_:1})):y("",!0)]),_:1})}}});export{ge as default};
