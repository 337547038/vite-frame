import{d as V,u as $,a as U,b as j,r as F,c as R,w as q,o as K,e as l,f as a,g as y,h as e,i as t,F as S,j as N,k as i,l as v,t as T,m as M,n as L,p as X,q as J,v as O,s as D,K as Q,x as W}from"./index.059eed3f.js";var Y="./assets/logo.03d6d6da.png";const Z={class:"tag-tabs"},ee={class:"tabs-label"},te=V({props:{navList:{default:()=>[]}},setup(k){const B=k,_=$(),o=U(),d=j(),c=F(),f=R(()=>{var s,u;return(u=(s=_.state)==null?void 0:s.layout)==null?void 0:u.tabs}),n=s=>{c.value=s,d.push({path:s})},r=(s,u,m)=>{const b=f.value.filter(h=>h.path!==s.path);if(u>0){const h=f.value[u-1].path;c.value=h,d.push({path:h})}else u===0&&d.push({path:"/"});_.commit("setTabsViews",b),m.stopPropagation()},p=()=>{var u;if(((u=o.meta)==null?void 0:u.keepAlive)===!1){c.value="";return}if(!f.value.some(m=>m.path===o.path)&&o.path!=="/"){let m="";B.navList.forEach(h=>{h.path===o.path&&(m=h.title)});const b=f.value;b.push({title:m,path:o.path,name:o.name}),_.commit("setTabsViews",b)}c.value=o.path},g=()=>{d.push({path:"/"}),_.commit("setTabsViews",[])};return q(()=>o.path,()=>{console.log(o),p()}),K(()=>{p()}),(s,u)=>{const m=l("el-tab-pane"),b=l("Close"),h=l("el-icon"),x=l("el-tabs");return a(),y("div",Z,[e(x,{modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=C=>c.value=C),onTabChange:n},{default:t(()=>[e(m,{label:"\u9996\u9875",name:"/"}),(a(!0),y(S,null,N(M(f),(C,w)=>(a(),i(m,{key:C.path,label:C.title,name:C.path},{label:t(()=>[v("span",ee,[v("span",null,T(C.title),1),e(h,{onClick:E=>r(C,w,E)},{default:t(()=>[e(b)]),_:2},1032,["onClick"])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),e(h,{onClick:g,class:"clear-tag",title:"\u6E05\u7A7A\u5168\u90E8"},{default:t(()=>[e(b)]),_:1})])}}}),le=V({props:{data:{default:()=>[]}},setup(k){return(B,_)=>{const o=l("el-icon"),d=l("menu-item",!0),c=l("el-sub-menu"),f=l("el-menu-item");return a(!0),y(S,null,N(k.data,(n,r)=>(a(),y(S,{key:r},[n.children?(a(),i(c,{key:0,index:n.path||n.title+r},{title:t(()=>[e(o,null,{default:t(()=>[(a(),i(L(n.icon)))]),_:2},1024),v("span",null,T(n.title),1)]),default:t(()=>[e(d,{data:n.children},null,8,["data"])]),_:2},1032,["index"])):(a(),i(f,{key:1,index:n.path||n.title+r},{default:t(()=>[e(o,null,{default:t(()=>[(a(),i(L(n.icon)))]),_:2},1024),v("span",null,T(n.title),1)]),_:2},1032,["index"]))],64))),128)}}}),ne=V({props:{collapse:{type:Boolean}},emits:["getMenuList"],setup(k,{emit:B}){const _=j(),o=U(),d=$(),c=F([{title:"\u9996\u9875",path:"/",icon:"HomeFilled"},{title:"\u8868\u5355\u9875\u9762",path:"/form",icon:"location"},{title:"\u8868\u5355\u9875\u97622",path:"/form2",icon:"location"},{title:"\u5217\u8868\u9875\u9762",path:"/list",icon:"collection"},{title:"\u6D4B\u8BD5",path:"/test",icon:"collection"},{title:"\u7528\u6237\u7BA1\u7406",icon:"user",children:[{title:"\u65B0\u589E\u7528\u6237",path:"/addUser"},{title:"\u7528\u6237\u5217\u8868",children:[{title:"\u666E\u901A\u7528\u6237"},{title:"\u5408\u4F5C\u7528\u6237"},{title:"\u5408\u4F5C\u7528\u62372"}]}]},{title:"\u7CFB\u7EDF\u7BA1\u7406",icon:"setting",children:[{title:"\u7528\u6237\u7BA1\u7406"},{title:"\u89D2\u8272\u7BA1\u7406"},{title:"\u83DC\u5355\u7BA1\u7406"},{title:"\u767B\u5F55\u65E5\u5FD7"},{title:"\u64CD\u4F5C\u7BA1\u7406"}]}]),f=n=>{_.push({path:n})};return console.log(o),q(()=>o.path,()=>{c.value.forEach(n=>{n.path===o.path&&d.commit("changeBreadcrumb",[{label:n.title}])})}),K(()=>{B("getMenuList",c.value)}),(n,r)=>{const p=l("el-menu");return a(),i(p,{collapse:k.collapse,"active-text-color":"#ffd04b","background-color":"rgb(48 65 86)","text-color":"#fff",onSelect:f},{default:t(()=>[e(le,{data:c.value},null,8,["data"])]),_:1},8,["collapse"])}}});const oe=X("\u9996\u9875"),ae={class:"comm-header-tool"},se={class:"header-right"},ue={class:"header-avatar",style:{cursor:"pointer"}},ce={class:"name"},re=v("span",{class:"title"},"\u4E2A\u4EBA\u4E2D\u5FC3",-1),ie=v("span",{class:"title"},"\u8BBE\u7F6E",-1),_e=v("span",{class:"title"},"\u9000\u51FA\u767B\u5F55",-1),pe=V({props:{collapse:{type:Boolean}},emits:["click"],setup(k,{emit:B}){const _=$(),o=R(()=>{var n,r;return(r=(n=_.state)==null?void 0:n.layout)==null?void 0:r.breadcrumb}),d=F({name:"userName",avatar:"https://xxx/avatar.jpg"}),c=n=>{B("click",n)},f=()=>{console.log("logout")};return(n,r)=>{const p=l("Fold"),g=l("Expand"),s=l("el-icon"),u=l("el-breadcrumb-item"),m=l("el-breadcrumb"),b=l("RefreshRight"),h=l("FullScreen"),x=l("el-avatar"),C=l("arrow-down"),w=l("User"),E=l("el-menu-item"),z=l("Setting"),G=l("CircleClose"),H=l("el-menu"),I=l("el-dropdown");return a(),y(S,null,[e(s,{onClick:r[0]||(r[0]=A=>c("collapse")),class:"collapse-icon"},{default:t(()=>[k.collapse?(a(),i(g,{key:1})):(a(),i(p,{key:0}))]),_:1}),e(m,{separator:"/",class:"breadcrumb"},{default:t(()=>[e(u,{to:{path:"/"}},{default:t(()=>[oe]),_:1}),(a(!0),y(S,null,N(M(o),(A,P)=>(a(),i(u,{key:P,to:{path:A.path}},{default:t(()=>[X(T(A.label),1)]),_:2},1032,["to"]))),128))]),_:1}),v("div",ae,[e(s,{onClick:r[1]||(r[1]=A=>c("refresh")),title:"\u5237\u65B0\u9875\u9762"},{default:t(()=>[e(b)]),_:1}),e(s,{title:"\u5168\u5C4F"},{default:t(()=>[e(h,{onClick:r[2]||(r[2]=A=>c("fullScreen"))})]),_:1})]),v("div",se,[e(I,null,{dropdown:t(()=>[e(H,{class:"avatar-menu"},{default:t(()=>[e(E,null,{default:t(()=>[e(s,null,{default:t(()=>[e(w)]),_:1}),re]),_:1}),e(E,null,{default:t(()=>[e(s,null,{default:t(()=>[e(z)]),_:1}),ie]),_:1}),e(E,{onClick:f},{default:t(()=>[e(s,null,{default:t(()=>[e(G)]),_:1}),_e]),_:1})]),_:1})]),default:t(()=>[v("div",ue,[e(x,{class:"avatar",size:"small",shape:"circle",src:d.value.avatar},null,8,["src"]),v("span",ce,T(d.value.name),1),e(s,{class:"el-icon--right"},{default:t(()=>[e(C)]),_:1})])]),_:1})])],64)}}}),de={class:"logo"},me=v("img",{src:Y},null,-1),fe=V({setup(k){const B=$(),_=F(!1),o=F(!1),d=F(!0),c=F([]),f=p=>{p==="collapse"&&(_.value=!_.value),p==="fullScreen"&&(o.value=!o.value),p==="refresh"&&(d.value=!1,W(()=>{d.value=!0}))},n=p=>{c.value=p},r=R(()=>{var g,s;const p=(s=(g=B.state)==null?void 0:g.layout)==null?void 0:s.tabs;if(p){const u=[];return p.forEach(m=>{u.push(m.name)}),u}return[]});return(p,g)=>{const s=l("el-aside"),u=l("el-header"),m=l("router-view"),b=l("el-main"),h=l("el-container"),x=l("Close"),C=l("el-icon");return a(),i(h,{class:"common-layout"},{default:t(()=>[o.value?D("",!0):(a(),i(s,{key:0,width:_.value?"64px":"220px",class:"common-sidebar"},{default:t(()=>[v("div",de,[me,J(v("span",null,"XX\u7BA1\u7406\u7CFB\u7EDF",512),[[O,!_.value]])]),e(ne,{collapse:_.value,onGetMenuList:n},null,8,["collapse"])]),_:1},8,["width"])),e(h,null,{default:t(()=>[o.value?D("",!0):(a(),i(u,{key:0,class:"common-header"},{default:t(()=>[e(pe,{onClick:f,collapse:_.value},null,8,["collapse"])]),_:1})),o.value?D("",!0):(a(),i(te,{key:1,navList:c.value},null,8,["navList"])),e(b,{class:"common-main"},{default:t(()=>[d.value?(a(),i(m,{key:0},{default:t(({Component:w})=>[(a(),i(Q,{include:M(r)},[(a(),i(L(w)))],1032,["include"]))]),_:1})):D("",!0)]),_:1})]),_:1}),o.value?(a(),i(C,{key:1,class:"quit-full",onClick:g[0]||(g[0]=w=>f("fullScreen")),title:"\u9000\u51FA\u5168\u5C4F"},{default:t(()=>[e(x)]),_:1})):D("",!0)]),_:1})}}});export{fe as default};
